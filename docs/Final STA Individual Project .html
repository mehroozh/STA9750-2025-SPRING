<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mehrooz Hassan">

<title>The Relationship Between Education Funding and Student Outcomes in New York State</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Final STA Individual Project _files/libs/clipboard/clipboard.min.js"></script>
<script src="Final STA Individual Project _files/libs/quarto-html/quarto.js"></script>
<script src="Final STA Individual Project _files/libs/quarto-html/popper.min.js"></script>
<script src="Final STA Individual Project _files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Final STA Individual Project _files/libs/quarto-html/anchor.min.js"></script>
<link href="Final STA Individual Project _files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Final STA Individual Project _files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Final STA Individual Project _files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Final STA Individual Project _files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Final STA Individual Project _files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Relationship Between Education Funding and Student Outcomes in New York State</h1>
<p class="subtitle lead">What is the correlation between funding level and long-term student outlook (e.g college success, employment?</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mehrooz Hassan </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="executive-summary" class="level2">
<h2 class="anchored" data-anchor-id="executive-summary">Executive Summary</h2>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction</h3>
<p>New York State spends more per student on K–12 education than any other U.S. state, with average expenditures exceeding $25,000 per pupil annually (CBCNY, 2023). However, this high spending does not translate to uniformly strong outcomes. A deeper analysis reveals systemic issues in how funds are distributed and used. Disparities between districts—especially those defined by wealth—and inconsistencies in performance outcomes signal that spending is not equitably or efficiently targeted (Education Trust–NY, 2022).</p>
<p>This executive summary analyzes the relationship between education funding and student outcomes such as test scores, graduation rates, college enrollment, and long-term employment prospects. Using publicly available datasets, visuals, and policy insights, we highlight the need for equity-focused reforms.</p>
</section>
<section id="unequal-distribution-of-school-funding" class="level3">
<h3 class="anchored" data-anchor-id="unequal-distribution-of-school-funding">1. Unequal Distribution of School Funding</h3>
<p>New York is a national leader in educational spending, but funding is unevenly distributed (CBCNY, 2023). Wealthier districts often benefit from high local tax revenues while high-need schools are left behind (Education Trust–NY, 2022).</p>
<p>NY is one of the top spenders nationally, but funding is unevenly distributed. Poorer districts often receive $2,000–$3,000 less per student than wealthier ones (CBCNY, 2023). Gaps persist due to reliance on local property taxes and outdated funding formulas (NYS Comptroller, 2023).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>funding <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Wealth_Decile =</span> <span class="fu">c</span>(<span class="st">"Lowest"</span>, <span class="st">"Highest"</span>),</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">State_Aid_per_Pupil =</span> <span class="fu">c</span>(<span class="dv">14000</span>, <span class="dv">8000</span>),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Local_Revenue_per_Pupil =</span> <span class="fu">c</span>(<span class="dv">4100</span>, <span class="dv">16800</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Total_Spending_per_Pupil =</span> <span class="fu">c</span>(<span class="dv">18100</span>, <span class="dv">24800</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(funding, <span class="at">caption =</span> <span class="st">"Per-Pupil Spending by Wealth Decile"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Per-Pupil Spending by Wealth Decile</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 24%">
<col style="width: 28%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Wealth_Decile</th>
<th style="text-align: right;">State_Aid_per_Pupil</th>
<th style="text-align: right;">Local_Revenue_per_Pupil</th>
<th style="text-align: right;">Total_Spending_per_Pupil</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Lowest</td>
<td style="text-align: right;">14000</td>
<td style="text-align: right;">4100</td>
<td style="text-align: right;">18100</td>
</tr>
<tr class="even">
<td style="text-align: left;">Highest</td>
<td style="text-align: right;">8000</td>
<td style="text-align: right;">16800</td>
<td style="text-align: right;">24800</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required library</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>funding <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Category =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"State Aid"</span>, <span class="st">"Local Revenue"</span>, <span class="st">"Total"</span>), <span class="dv">2</span>),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Amount =</span> <span class="fu">c</span>(<span class="dv">14000</span>, <span class="dv">4100</span>, <span class="dv">18100</span>, <span class="dv">8000</span>, <span class="dv">16800</span>, <span class="dv">24800</span>),</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Wealth_Decile =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Lowest"</span>, <span class="st">"Highest"</span>), <span class="at">each =</span> <span class="dv">3</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(funding, <span class="fu">aes</span>(<span class="at">x =</span> Category, <span class="at">y =</span> Amount, <span class="at">fill =</span> Wealth_Decile)) <span class="sc">+</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Per-Pupil Spending by Wealth Decile"</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Funding Category"</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Amount ($)"</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final-STA-Individual-Project-_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="intra-district-funding-disparities" class="level3">
<h3 class="anchored" data-anchor-id="intra-district-funding-disparities">2. Intra-District Funding Disparities</h3>
<p>Even when total district-level funding appears adequate, spending disparities exist between high- and low-need schools (Education Trust–NY, 2022).</p>
<p>Resource Gaps in Underserved Schools Underfunded schools lack experienced teachers, AP courses, and updated tech (Education Trust–NY, 2022). College counseling and career services are often limited or nonexistent. These gaps lead to lower test scores, graduation rates, and college readiness.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>intra <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">District =</span> <span class="fu">c</span>(<span class="st">"NYC"</span>, <span class="st">"Buffalo"</span>, <span class="st">"Rochester"</span>, <span class="st">"Syracuse"</span>, <span class="st">"Yonkers"</span>),</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Spending_Difference =</span> <span class="fu">c</span>(<span class="dv">6187</span>, <span class="dv">4396</span>, <span class="sc">-</span><span class="dv">632</span>, <span class="sc">-</span><span class="dv">651</span>, <span class="dv">608</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(intra, <span class="at">caption =</span> <span class="st">"Spending Differences Between High-Need and Low-Need Schools"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Spending Differences Between High-Need and Low-Need Schools</caption>
<thead>
<tr class="header">
<th style="text-align: left;">District</th>
<th style="text-align: right;">Spending_Difference</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NYC</td>
<td style="text-align: right;">6187</td>
</tr>
<tr class="even">
<td style="text-align: left;">Buffalo</td>
<td style="text-align: right;">4396</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rochester</td>
<td style="text-align: right;">-632</td>
</tr>
<tr class="even">
<td style="text-align: left;">Syracuse</td>
<td style="text-align: right;">-651</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Yonkers</td>
<td style="text-align: right;">608</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="create-data" class="level1">
<h1>Create data</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>intra <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">District =</span> <span class="fu">c</span>(<span class="st">"NYC"</span>, <span class="st">"Buffalo"</span>, <span class="st">"Rochester"</span>, <span class="st">"Syracuse"</span>, <span class="st">"Yonkers"</span>),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Spending_Difference =</span> <span class="fu">c</span>(<span class="dv">6187</span>, <span class="dv">4396</span>, <span class="sc">-</span><span class="dv">632</span>, <span class="sc">-</span><span class="dv">651</span>, <span class="dv">608</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(intra, <span class="fu">aes</span>(<span class="at">x =</span> District, <span class="at">y =</span> Spending_Difference, <span class="at">fill =</span> District)) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Intra-District Spending Differences"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Difference in Spending ($)"</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final-STA-Individual-Project-_files/figure-html/funding-table-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>Implication: Cities like Rochester and Syracuse allocate less funding to their most vulnerable students. Without district-level accountability, even strong state-level support fails to correct local inequities.</p>
</blockquote>
<section id="student-academic-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="student-academic-outcomes">3. Student Academic Outcomes</h3>
<p>New York’s graduation rate is relatively high at 87%, but state and national test scores suggest a more complicated picture. Early academic performance lags behind, which can have lasting effects on college and career success (NYS Comptroller, 2023; NAEP, 2022).</p>
<p>Despite high graduation rates, NYS students perform below national averages in early-grade reading and math—foundational skills essential to long-term success.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>outcomes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Metric =</span> <span class="fu">c</span>(<span class="st">"4th Grade Math"</span>, <span class="st">"4th Grade Reading"</span>, <span class="st">"8th Grade Math"</span>, <span class="st">"8th Grade Reading"</span>, <span class="st">"Graduation Rate"</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Proficiency =</span> <span class="fu">c</span>(<span class="st">"Below Avg"</span>, <span class="st">"Below Avg"</span>, <span class="st">"Matches Avg"</span>, <span class="st">"Above Avg"</span>, <span class="st">"87%"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(outcomes, <span class="at">caption =</span> <span class="st">"Student Performance Metrics"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Student Performance Metrics</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Metric</th>
<th style="text-align: left;">Proficiency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">4th Grade Math</td>
<td style="text-align: left;">Below Avg</td>
</tr>
<tr class="even">
<td style="text-align: left;">4th Grade Reading</td>
<td style="text-align: left;">Below Avg</td>
</tr>
<tr class="odd">
<td style="text-align: left;">8th Grade Math</td>
<td style="text-align: left;">Matches Avg</td>
</tr>
<tr class="even">
<td style="text-align: left;">8th Grade Reading</td>
<td style="text-align: left;">Above Avg</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Graduation Rate</td>
<td style="text-align: left;">87%</td>
</tr>
</tbody>
</table>
</div>
</div>
<blockquote class="blockquote">
<p>Implication: Graduation rates can be misleading. Performance data suggests students in underfunded schools are less academically prepared for college or the workforce (NAEP, 2022).</p>
</blockquote>
</section>
<section id="college-and-career-readiness" class="level3">
<h3 class="anchored" data-anchor-id="college-and-career-readiness">4. College and Career Readiness</h3>
<p>Fewer students from underfunded schools enroll in or complete college (The Century Foundation, 2016). Many struggle to access high-wage jobs—even with degrees. Underemployment is more common among students from disadvantaged schools.</p>
</section>
<section id="why-equitable-funding-matters" class="level3">
<h3 class="anchored" data-anchor-id="why-equitable-funding-matters">Why Equitable Funding Matters:</h3>
<p>Numerous studies confirm that more funding leads to higher test scores, college completion, and future earnings. Gains are particularly significant for:</p>
<ul>
<li><p>Low-income students (Jackson et al., 2020)</p></li>
<li><p>English language learners</p></li>
<li><p>Students of color</p></li>
</ul>
<blockquote class="blockquote">
<p>Implication: Equitable school funding is essential to reduce racial, income, and opportunity gaps in post-secondary success and economic mobility.</p>
</blockquote>
</section>
<section id="chronic-absenteeism" class="level3">
<h3 class="anchored" data-anchor-id="chronic-absenteeism">5. Chronic Absenteeism</h3>
<p>Attendance is a critical early indicator of academic risk. In NYC, chronic absenteeism surged from 26.5% in 2018–19 to 35% in 2023–24 (New York Post, 2025).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>absentee <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year =</span> <span class="fu">c</span>(<span class="st">"2018–19"</span>, <span class="st">"2023–24"</span>),</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Chronic_Absenteeism_Rate =</span> <span class="fu">c</span>(<span class="st">"26.5%"</span>, <span class="st">"35.0%"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(absentee, <span class="at">caption =</span> <span class="st">"Chronic Absenteeism Rates in NYC"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Chronic Absenteeism Rates in NYC</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Year</th>
<th style="text-align: left;">Chronic_Absenteeism_Rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2018–19</td>
<td style="text-align: left;">26.5%</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023–24</td>
<td style="text-align: left;">35.0%</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>absentee <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Year =</span> <span class="fu">c</span>(<span class="st">"2018–19"</span>, <span class="st">"2023–24"</span>),</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rate =</span> <span class="fu">c</span>(<span class="fl">26.5</span>, <span class="fl">35.0</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(absentee, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Rate)) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">group =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Chronic Absenteeism Trend in NYC"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Absenteeism Rate (%)"</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final-STA-Individual-Project-_files/figure-html/absenteeism-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>Implication: Nearly 1 in 3 students misses enough school to significantly impact learning. Underfunded schools often lack the support services needed to re-engage these students (NYS Comptroller, 2023).</p>
</blockquote>
</section>
<section id="structural-policy-challenges" class="level3">
<h3 class="anchored" data-anchor-id="structural-policy-challenges">6. Structural Policy Challenges</h3>
<p>Despite the intention of New York’s Foundation Aid formula to address need-based disparities, it has not been updated in over 15 years (CBCNY, 2023).</p>
<blockquote class="blockquote">
<p>Key Issues:</p>
</blockquote>
<ul>
<li><p>Outdated formula relies on 2000 Census data and a 2004 cost index.</p></li>
<li><p>Over-reliance on local property taxes entrenches inequality.</p></li>
<li><p>Lack of accountability in how districts allocate and report spending.</p></li>
</ul>
</section>
<section id="equity-best-practice" class="level3">
<h3 class="anchored" data-anchor-id="equity-best-practice">Equity Best Practice:</h3>
<p>New Jersey allocates 42% more funding to high-need districts and maintains stronger oversight. As a result, it outperforms NYS in standardized test scores and college readiness (Education Law Center, 2023).</p>
<ul>
<li><p>Uses a needs-based formula tied to current demographics.</p></li>
<li><p>Spends $1.42 on high-need students for every $1 on low-need students.</p></li>
<li><p>Reports stronger outcomes on national assessments.</p></li>
</ul>
<blockquote class="blockquote">
<p>Implication: NYS must overhaul its funding mechanisms to close systemic equity gaps and align spending with modern needs.</p>
</blockquote>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>New York State’s high education spending presents a unique opportunity to achieve equity and excellence in student outcomes—but only if funding is equitably distributed, transparently tracked, and effectively used. Persistent disparities between and within districts mean that many high-need students continue to face significant barriers to academic success, college readiness, and economic mobility. Addressing these challenges requires not only more funding, but smarter funding—guided by data, accountability, and intentional equity strategies. A modern, student-centered approach to school finance will ensure that every dollar spent translates into measurable improvements in learning and opportunity. - NYS spends more per pupil than any other state, but funding is unevenly distributed.</p>
<ul>
<li><p>Poorer districts receive $2,000–$3,000 less per student than wealthier ones.</p></li>
<li><p>Underfunded schools lack critical resources—from qualified teachers to college counseling.</p></li>
<li><p>Intra-district disparities leave high-need schools with fewer resources than others in the same system.</p></li>
<li><p>Chronic absenteeism affects over 35% of students in NYC, limiting the impact of instructional investments.</p></li>
<li><p>Tracking and transparency of school-level spending is essential to hold systems accountable.</p></li>
<li><p>Reforms must focus on equitable allocation, early intervention, and comprehensive student support.</p></li>
<li><p>Increased funding improves outcomes—but only when it is equitably and effectively allocated.</p></li>
<li><p>Inequitable funding, absenteeism, and under-resourced schools lead to lower college and career success.</p></li>
<li><p>Systemic reforms must prioritize resource allocation, transparency, and student support services.</p></li>
</ul>
</section>
<section id="recommendations" class="level3">
<h3 class="anchored" data-anchor-id="recommendations">Recommendations</h3>
<p>To improve student outcomes and address long-standing inequities in New York State’s education system, it is not enough to simply increase funding—how the money is spent matters just as much as how much is allocated. When allocating funding to schools, it is essential to ensure that the use of these funds is properly tracked, not just disbursed without follow-up. A thorough analysis should be conducted to determine how funds are distributed within each school—whether to departments, clubs, athletics, or instructional programs. This level of transparency and accountability will not only reveal inefficiencies but will also highlight opportunities for targeted interventions that support equity and student achievement. Effective school funding reform requires modernized formulas, measurable outcomes, and a deep understanding of resource impact at every level.</p>
<blockquote class="blockquote">
<p>Key Points:</p>
</blockquote>
<ul>
<li><p>Modernize the Foundation Aid formula to reflect up-to-date demographic and economic data.</p></li>
<li><p>Require detailed tracking of intra-school spending, including departmental, extracurricular, and instructional allocations.</p></li>
<li><p>Implement a statewide equity dashboard to monitor per-student funding, absenteeism, graduation rates, and performance outcomes.</p></li>
<li><p>Tie funding to accountability metrics, such as improvements in test scores, attendance, and post-secondary success.</p></li>
<li><p>Invest early in K–3 reading and math programs to close learning gaps before they widen.</p></li>
<li><p>Expand wraparound services—mental health care, housing stability support, and college counseling.</p></li>
<li><p>Enforce intra-district equity rules, ensuring that high-need schools receive proportionally more funding and support.</p></li>
</ul>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li>CBCNY. (2023). <em>More Money, Little Accountability: Education Funding in New York</em>. <a href="https://cbcny.org/research/more-money-little-accountability" class="uri">https://cbcny.org/research/more-money-little-accountability</a></li>
<li>Education Trust–New York. (2022). <em>School Funding Equity Tool &amp; Data Explorer</em>. <a href="https://newyork.edtrust.org/online-data-tool-allows-users-to-explore-how-new-york-school-districts-are-investing-resources/" class="uri">https://newyork.edtrust.org/online-data-tool-allows-users-to-explore-how-new-york-school-districts-are-investing-resources/</a></li>
<li>New York State Comptroller. (2023). <em>Elementary and Secondary Education Finance Report</em>. <a href="https://www.osc.ny.gov/reports/finance/2023-fcr/elementary-and-secondary-education" class="uri">https://www.osc.ny.gov/reports/finance/2023-fcr/elementary-and-secondary-education</a></li>
<li>NAEP. (2022). <em>New York State Snapshot Report</em>. <a href="https://www.nationsreportcard.gov/" class="uri">https://www.nationsreportcard.gov/</a></li>
<li>Jackson, C. Kirabo, et al.&nbsp;(2020). <em>The Effects of School Spending on Educational and Economic Outcomes</em>. Quarterly Journal of Economics.</li>
<li>The Century Foundation. (2016). <em>Boosting Educational Outcomes Through School Finance Reform</em>. <a href="https://tcf.org/content/report/boosting-educational-outcomes-through-school-finance-reform/" class="uri">https://tcf.org/content/report/boosting-educational-outcomes-through-school-finance-reform/</a></li>
<li>New York Post. (2025). <em>Bombshell Study Reveals 300k NYC Public School Students – Nearly 35% – Chronically Absent</em>. <a href="https://nypost.com/2025/03/06/us-news/bombshell-study-reveals-300k-nyc-public-school-students-nearly-35-chronically-absent-as-grades-plummet-spending-surges/" class="uri">https://nypost.com/2025/03/06/us-news/bombshell-study-reveals-300k-nyc-public-school-students-nearly-35-chronically-absent-as-grades-plummet-spending-surges/</a></li>
<li>Education Law Center. (2023). <em>A Tale of Two States: Equity Outperforms Inequity</em>. <a href="https://edlawcenter.org/a-tale-of-two-states-equity-outperforms-inequity/" class="uri">https://edlawcenter.org/a-tale-of-two-states-equity-outperforms-inequity/</a></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>